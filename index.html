<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>React Tic Tac Toe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const TicTacToe = () => {
        const [board, setBoard] = useState(Array(9).fill(null));
        const [xIsNext, setXIsNext] = useState(true);

        const handleClick = (index) => {
          if (board[index] || calculateWinner(board)) return;
          const newBoard = board.slice();
          newBoard[index] = xIsNext ? 'X' : 'O';
          setBoard(newBoard);
          setXIsNext(!xIsNext);
        };

        const winner = calculateWinner(board);
        const status = winner
          ? `Winner: ${winner}`
          : `Next player: ${xIsNext ? 'X' : 'O'}`;

        const renderSquare = (index) => (
          <button
            className="w-20 h-20 border text-3xl font-bold flex items-center justify-center"
            onClick={() => handleClick(index)}
          >
            {board[index]}
          </button>
        );

        return (
          <div className="flex flex-col items-center">
            <h1 className="text-3xl font-bold mb-4">Tic Tac Toe</h1>
            <div className="mb-2 text-xl">{status}</div>
            <div className="grid grid-cols-3 gap-1">
              {board.map((_, i) => renderSquare(i))}
            </div>
            <button
              className="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              onClick={() => {
                setBoard(Array(9).fill(null));
                setXIsNext(true);
              }}
            >
              Restart
            </button>
          </div>
        );
      };

      const calculateWinner = (squares) => {
        const lines = [
          [0, 1, 2],
          [3, 4, 5],
          [6, 7, 8],
          [0, 3, 6],
          [1, 4, 7],
          [2, 5, 8],
          [0, 4, 8],
          [2, 4, 6],
        ];
        for (let [a, b, c] of lines) {
          if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
            return squares[a];
          }
        }
        return null;
      };

      ReactDOM.createRoot(document.getElementById('root')).render(<TicTacToe />);
    </script>
  </body>
</html>
